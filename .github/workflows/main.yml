name: Notify twitter
on: [push]
jobs:
  setup:
    runs-on: ubuntu-latest
    steps:
      - uses: noweh/post-tweet-v2-action@v1.0
        with:
          message: |
            Ei, pessoal! Confiram o que acabamos de atualizar no projeto:
            Mensagem do Commit: ${{ github.event.head_commit.message | slice(0, 60) | replace('?', '') | replace('!', '') | replace('@', '') | replace('#', '') | replace('$', '') | replace('%', '') | replace('^', '') | replace('&', '') | replace('*', '') | replace('(', '') | replace(')', '') | replace('-', '') | replace('+', '') | replace('=', '') | replace('[', '') | replace(']', '') | replace('{', '') | replace('}', '') | replace('|', '') | replace('\\', '') | replace(':', '') | replace(';', '') | replace('"', '') | replace("'", '') | replace('<', '') | replace('>', '') | replace(',', '') | replace('.', '') | replace('/', '') | replace('`', '') | replace('~', '') }}
            URL do Projeto: ${{ github.event.repository.html_url }}
            Hor√°rio do Commit: ${{ github.event.head_commit.timestamp }}
            Vem ver! #${{ join(github.event.repository.topics, ' #') }}
          consumer-key: ${{ secrets.CONSUMER_KEY }}
          consumer-secret: ${{ secrets.CONSUMER_SECRET }}
          access-token: ${{ secrets.ACCESS_TOKEN }}
          access-token-secret: ${{ secrets.ACCESS_TOKEN_SECRET }}
